<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page.title | default: "Thanh Noi Phan" }}</title>

    <link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}" />
    <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}" />

    <!-- Font Awesome 4.7 for legacy 'fa fa-*' syntax -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>

  <body>
    <div class="site-wrapper">
      <!-- HEADER / NAVIGATION BAR -->
      <header class="site-header">
        <nav class="site-nav">
          <div class="menu-toggle" aria-label="Toggle menu" role="button" tabindex="0">&#9776;</div>
          <div class="menu-links">
            <a href="{{ '/' | relative_url }}">Home</a>
            <a href="{{ '/cv/' | relative_url }}">CV</a>
            <a href="{{ '/research/' | relative_url }}">Research</a>
            <a href="{{ '/publications/' | relative_url }}">Publications</a>
            <a href="{{ '/contact/' | relative_url }}">Contact</a>
          </div>
          <!-- Th√™m n√∫t chuy·ªÉn theme v√†o ƒë√¢y -->
          <button id="theme-toggle" class="theme-toggle" aria-label="Toggle light/dark theme">üåì</button>
        </nav>
      </header>

      <!-- MAIN CONTENT -->
      <main class="site-main">
        {{ content }}
      </main>

      <!-- FOOTER -->
      {% include footer.html %}
    </div>

    <!-- ƒê∆∞a script ƒë·ªïi theme xu·ªëng cu·ªëi body ƒë·ªÉ ƒë·∫£m b·∫£o DOM ƒë√£ c√≥ n√∫t -->
    <script src="{{ '/assets/js/theme-toggle.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/menu.js' | relative_url }}"></script>

    <script>
      // ƒê·∫∑t data-theme theo localStorage ngay khi load trang (tr∆∞·ªõc khi theme-toggle.js ch·∫°y)
      (function () {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedTheme = localStorage.getItem('theme');
        const theme = savedTheme ? savedTheme : (prefersDark ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', theme);
      })();
    </script>
  </body>
</html>
